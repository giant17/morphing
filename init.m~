% Face Morphing

% TODO: Document stuff

%% Define constants

%TODO: pathFrom =
%TODO: pathTo =
pathShine = '~/.local/share/toolbox/shine';

%% Shine images

shineImages(pathFrom, pathTo, pathShine);

%% Create sequence

% Return list ids/emos

p = '~/Data/faceemo';
x = dir(p);
x = {x(3:end).name};

ids = {};
emos = {};

for iimg=1:length(x)
    a = regexp(x{iimg}, '_', 'split');
    
    if ~ismember(a{1}, ids)
        ids{end+1} = a{1};
    end
    if ~ismember(a{2}, emos)
        emos{end+1} = a{2};
    end
end

ids
emos


frames = 300;

seq = {};

for iframe=1:frames
    if mod(iframe,30) == 0
        ids{randi(length(ids))}
    end
    
    if mod(iframe,40) == 0
        emos{randi(length(emos))}
    end
end